# 通知中心 (Notification)

## 頁面概述

通知中心顯示所有推播通知，包含系統公告、活動提醒、點數異動等各類型通知。

---

## 頁面結構

```
┌─────────────────────────────────────────┐
│           通知                           │
├─────────────────────────────────────────┤
│  ┌─────────────────────────────────────┐│
│  │ 🔔 系統公告                    12/09 ││
│  │    年終感恩回饋活動開跑！            ││
│  │    ●                               ││
│  └─────────────────────────────────────┘│
│  ┌─────────────────────────────────────┐│
│  │ 📅 活動提醒                    12/08 ││
│  │    您報名的「一秒變身時尚玩家」      ││
│  │    將於明天 13:30 開始              ││
│  └─────────────────────────────────────┘│
│  ┌─────────────────────────────────────┐│
│  │ 💰 點數通知                    12/07 ││
│  │    您已獲得 100 點獎勵積分          ││
│  └─────────────────────────────────────┘│
│  ┌─────────────────────────────────────┐│
│  │ 👥 交流預約                    12/06 ││
│  │    林小美 向您發起交流預約          ││
│  │    ●                               ││
│  └─────────────────────────────────────┘│
│                                         │
│           載入更多...                    │
└─────────────────────────────────────────┘
```

---

## 通知類型

| 類型代碼 | 名稱 | 圖示 | 說明 |
|----------|------|------|------|
| SYSTEM | 系統通知 | 🔔 | 系統公告、維護通知 |
| EVENT | 活動通知 | 📅 | 活動報名、開始提醒 |
| CHAT | 聊天通知 | 💬 | 新訊息通知 |
| POINT | 點數通知 | 💰 | 點數異動、收款通知 |
| MEMBER | 會員通知 | 👤 | 會籍到期、審核結果 |
| SHOP | 店鋪通知 | 🏪 | 店鋪審核、推薦 |
| BILLING | 帳務通知 | 📋 | 繳費提醒、付款成功 |
| DONATION | 捐贈通知 | ❤️ | 捐贈成功、專案更新 |
| MEETING | 交流預約 | 👥 | 預約邀請、確認、提醒 |

---

## 功能元件

### 通知列表

| 欄位 | 說明 |
|------|------|
| 類型圖示 | 依通知類型顯示 |
| 類型名稱 | 通知類型標籤 |
| 標題 | 通知標題 |
| 內容 | 通知內容摘要 |
| 時間 | 通知時間 |
| 未讀標記 | ● 藍點標記 |

### 篩選功能

| 篩選項 | 說明 |
|--------|------|
| 全部 | 所有通知 |
| 未讀 | 僅顯示未讀 |
| 類型篩選 | 依類型篩選 |

### 操作功能

| 操作 | 說明 |
|------|------|
| 點擊通知 | 標記已讀並跳轉 |
| 左滑 | 刪除通知 |
| 全部已讀 | 標記所有為已讀 |

---

## 通知詳情

點擊通知後的行為：

| 通知類型 | 跳轉頁面 |
|----------|----------|
| SYSTEM | 顯示完整公告內容 |
| EVENT | 跳轉至活動詳情 |
| CHAT | 跳轉至聊天室 |
| POINT | 跳轉至點數紀錄 |
| MEMBER | 跳轉至會員詳情 |
| SHOP | 跳轉至店鋪詳情 |
| BILLING | 跳轉至帳務頁面 |
| DONATION | 跳轉至捐贈詳情 |
| MEETING | 跳轉至交流預約詳情 |

---

## 通知設定

```
┌─────────────────────────────────────────┐
│           通知設定                        │
├─────────────────────────────────────────┤
│  推播通知                    [開關]      │
├─────────────────────────────────────────┤
│  通知類型                                │
│  ├─ 系統通知                [開關]      │
│  ├─ 活動通知                [開關]      │
│  ├─ 聊天通知                [開關]      │
│  ├─ 點數通知                [開關]      │
│  ├─ 會員通知                [開關]      │
│  ├─ 店鋪通知                [開關]      │
│  ├─ 帳務通知                [開關]      │
│  ├─ 捐贈通知                [開關]      │
│  └─ 交流預約通知            [開關]      │
├─────────────────────────────────────────┤
│  勿擾時段                    [開關]      │
│  開始時間                    22:00      │
│  結束時間                    08:00      │
└─────────────────────────────────────────┘
```

---

## API 呼叫

| 功能 | API | 說明 |
|------|-----|------|
| 通知列表 | GET /api/v1/notifications | 取得通知列表 |
| 未讀數量 | GET /api/v1/notifications/unread-count | 取得未讀數量 |
| 標記已讀 | PUT /api/v1/notifications/:id/read | 標記單則已讀 |
| 全部已讀 | PUT /api/v1/notifications/read-all | 標記全部已讀 |
| 刪除通知 | DELETE /api/v1/notifications/:id | 刪除通知 |
| 通知設定 | GET /api/v1/notifications/settings | 取得設定 |
| 更新設定 | PUT /api/v1/notifications/settings | 更新設定 |

---

## 推播通知

### FCM 推播

當 App 在背景或關閉時，透過 Firebase Cloud Messaging 推送通知。

| 項目 | 說明 |
|------|------|
| 標題 | 通知標題 |
| 內容 | 通知內容 |
| 圖示 | App 圖示 |
| 點擊行為 | 開啟 App 並跳轉 |

### 本地通知

當 App 在前景時，顯示應用內通知橫幅。

---

## 相關頁面

- [首頁](./home.md)
- [個人資料](./profile.md)
