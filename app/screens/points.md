# 使用點數 (Points)

## 頁面概述

使用點數頁面是愛心點數的管理中心，提供掃碼付款、收款 QR Code、捐贈、轉點、商家兌換等功能。

---

## 頁面結構

```
┌─────────────────────────────────────────┐
│            使用點數                       │
├─────────────────────────────────────────┤
│  ┌──────────────────────────────────┐   │
│  │  會員資訊區                        │   │
│  │  愛心點數：1200   到期日：2025/12/31│   │
│  │                  獎勵點數：120     │   │
│  └──────────────────────────────────┘   │
├─────────────────────────────────────────┤
│           廣告輪播區                      │
│  ┌─────────────────────────────────────┐│
│  │         廣告圖片                     ││
│  └─────────────────────────────────────┘│
│              ● ● ○ ○ ○                  │
├─────────────────────────────────────────┤
│  📢 跑馬燈- 爆米發彩券行 愛心點數加倍送！ │
├─────────────────────────────────────────┤
│  ┌─────────┐ ┌─────────┐ ┌─────────┐   │
│  │  掃 碼  │ │ 我的QR  │ │ 捐贈公益 │   │
│  │   📷    │ │   📱    │ │   ❤️    │   │
│  └─────────┘ └─────────┘ └─────────┘   │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐   │
│  │ 點數紀錄 │ │  轉 點  │ │ 商家兌換 │   │
│  │   📋    │ │   🔄    │ │   ↔️    │   │
│  └─────────┘ └─────────┘ └─────────┘   │
└─────────────────────────────────────────┘
```

---

## 六宮格功能

### 1. 掃碼

掃描商家或會員的 QR Code 進行付款。

**功能流程：**
```
開啟相機 → 掃描 QR Code → 確認付款資訊 → 輸入點數 → 確認付款
```

**掃碼頁面：**

| 元件 | 說明 |
|------|------|
| 相機預覽 | 掃描框 |
| 提示文字 | 請對準 QR Code |
| 手電筒 | 開啟/關閉閃光燈 |

**付款確認頁：**

| 項目 | 說明 |
|------|------|
| 收款方資訊 | 商家/會員名稱、頭像 |
| 付款點數 | 輸入要付款的點數 |
| 目前餘額 | 顯示可用點數 |
| 確認按鈕 | 確認付款 |

---

### 2. 我的 QR

顯示個人收款 QR Code。

**頁面內容：**

| 元件 | 說明 |
|------|------|
| 會員資訊 | 姓名、會員類型 |
| QR Code | 個人收款碼 |
| 說明文字 | 請對方掃描此 QR Code 付款 |
| 分享按鈕 | 分享 QR Code 圖片 |
| 儲存按鈕 | 儲存 QR Code 到相簿 |

---

### 3. 捐贈公益

捐贈點數給公益團體或專案。

**功能流程：**
```
公益專案列表 → 選擇專案 → 輸入捐贈點數 → 確認捐贈
```

**專案列表頁：**

| 元件 | 說明 |
|------|------|
| 專案卡片 | 封面、標題、募集進度、已募金額 |
| 篩選 | 進行中/已結束 |

**捐贈確認頁：**

| 項目 | 說明 |
|------|------|
| 專案資訊 | 專案名稱、描述 |
| 捐贈點數 | 輸入要捐贈的點數 |
| 目前餘額 | 顯示可用點數 |
| 確認按鈕 | 確認捐贈 |

---

### 4. 點數紀錄

查看點數異動明細。

**頁面內容：**

| 元件 | 說明 |
|------|------|
| 篩選 Tab | 全部/收入/支出 |
| 日期篩選 | 選擇日期範圍 |
| 紀錄列表 | 異動明細 |

**紀錄項目：**

| 欄位 | 說明 |
|------|------|
| 類型圖示 | 收入/支出圖示 |
| 描述 | 異動說明（如：商學講堂報名） |
| 點數 | +100 / -500 |
| 時間 | 異動時間 |
| 餘額 | 異動後餘額 |

---

### 5. 轉點

將點數轉給其他會員。

**功能流程：**
```
選擇會員 → 輸入轉點數量 → 確認轉點
```

**轉點頁面：**

| 欄位 | 類型 | 說明 |
|------|------|------|
| 轉點對象 | 搜尋選擇 | 選擇會員或輸入會員編號 |
| 轉點數量 | 數字輸入 | 要轉出的點數 |
| 目前餘額 | 顯示 | 可用點數 |
| 備註 | 文字輸入 | 選填 |

**確認頁面：**

| 項目 | 說明 |
|------|------|
| 收款方資訊 | 會員姓名、頭像 |
| 轉點數量 | 確認數量 |
| 手續費 | 若有手續費顯示 |
| 確認按鈕 | 確認轉點 |

---

### 6. 商家兌換

使用點數在合作商家兌換商品或服務。

**功能流程：**
```
商家列表 → 選擇商家 → 商家詳情 → 兌換商品
```

**商家列表頁：**

| 元件 | 說明 |
|------|------|
| 分類篩選 | 商家類別 |
| 商家卡片 | Logo、名稱、優惠描述 |
| 距離排序 | 依距離排序（需定位） |

**商家詳情頁：**

| 區塊 | 說明 |
|------|------|
| 商家資訊 | Logo、名稱、地址、電話 |
| 優惠項目 | 可兌換的商品/服務列表 |
| 兌換紀錄 | 歷史兌換紀錄 |

---

## API 呼叫

| 功能 | API | 說明 |
|------|-----|------|
| 我的點數 | GET /api/v1/members/me | 取得點數餘額 |
| 點數紀錄 | GET /api/v1/points/history | 取得點數明細 |
| 掃碼付款 | POST /api/v1/points/pay | 點數付款 |
| 轉點 | POST /api/v1/points/transfer | 轉點給會員 |
| 公益專案 | GET /api/v1/donations/projects | 取得公益專案 |
| 捐贈 | POST /api/v1/donations | 捐贈點數 |
| 商家列表 | GET /api/v1/shops | 取得合作商家 |

---

## 相關頁面

- [首頁](./home.md)
- [公益團體](./charity.md)
